### 一、什么是关系型数据库

​	关系型数据库是按照关系模型来组织数据的数据库。以行和列的形式来存储数据，一系列的行和列被称为表。关系模型可以简单理解为二维表格模型 类似于Excel的表头和行数。

事物之前普遍有联系

整理、表达出事物间的关系，就是模型（关系模型）

能落实关系模型的数据库就是关系型数据库



为什么要了解数据库？

清楚研发的业务逻辑划分，新增需求的时候能大致判断出影响的范围



### 二、关系模型中常用的概念

关系： 一张二维表，每个关系都具有一个关系名，即表名

元组：二维表中的一行，数据库中被称为记录

属性：二维表中的一列，在数据库中称为字段

主码（主键）：能够唯一表示表中的每一个记录的字段或多个字段

外码（外键）：

举例：

学生表：

| 学号 | 姓名 | 性别 | 专业   | 年龄 |
| ---- | ---- | :--- | ------ | ---- |
| 001  | 张明 | 男   | 计算机 | 20   |
| 002  | 李静 | 女   | 物联网 | 21   |



课程表：

| 课程号 | 课程名 | 学分 |
| ------ | ------ | ---- |
| 01     | 高数   | 10   |
| 02     | 英语   |      |
| 03     | c++    | 5    |



选课：

| 学号 | 课程号 | 成绩 |
| ---- | ------ | ---- |
| 001  |        |      |
|      | 03     | 99   |
| 002  |        |      |



对于选课表 学号和课程号组合为主码缺一不可



#### 关系的完整性

> 为了维护关系数据库中数据与现实的一致性 （完整性），需要对数据操作进行一定的约束。

1. 实体完整性：主码的值不能为空
2. 参照完整性：外码来自被参照关系的主码，且可以为空，但作为被参照关系的主码不能为空
3. 用户自定义完整性：针对某一具体关系数据的约束关系，给定规定的取值范围 



正常情况下不能使用数据库ID(数据库主键)作为业务的唯一主键



### 三、数据库一对一、一对多、多对多

举例：

+ 一对一关系实例： 一个人对应一张身份证，一张身份证对应一个人

  ```mermaid
  graph LR
  A[人]
  B{ }
  C[身份证]
  A --1--> B
  B --1--> C
  ```

  

+ 一对多关系实例：一个班级拥有多个学生，一个学生只能属于某个班级

  ```mermaid
  graph LR
  A[学生]
  B{拥有}
  C[班级]
  A --N--> B
  B --1--> C
  ```

  

+ 多对多实例：一个学生可以选修多门课程，一个课程可以被多个学生选修

  ```mermaid
  graph TD
  A[学生]
  B1{ }
  B2{ }
  C[课程]
  D[学生课程中间表]
  D --M--> B1
  B1 --1--> A
  D --N--> B2
  B2 --1--> C
  ```

  





查询行 有一对多的关系 取最新一条？