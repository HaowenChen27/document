常用的元字符

| 代码           |                             说明                             |
| -------------- | :----------------------------------------------------------: |
| .              |                  匹配除换行符以外的任意字符                  |
| \w             |                 匹配字母或数字或下划线或汉字                 |
| \s             |                       匹配任意的空白符                       |
| \d             |                           匹配数字                           |
| \b             |                     匹配单词的开始或结束                     |
| ^              |                       匹配字符串的开始                       |
| $              |                       匹配字符串的结束                       |
| *              |                       重复零次或更多次                       |
| +              |                       重复一次或更多次                       |
| ?              |                        重复零次或一次                        |
| {n}            |                           重复n次                            |
| {n,}           |                       重复n次或更多次                        |
| {n,m}          |                          重复n到m次                          |
| \W             |          匹配任意不是字母，数字，下划线，汉字的字符          |
| \S             |                   匹配任意不是空白符的字符                   |
| \D             |                     匹配任意非数字的字符                     |
| \B             |                 匹配不是单词开头或结束的位置                 |
| [^x]           |                   匹配除了x以外的任意字符                    |
| [^aeiou]       |            匹配除了aeiou这几个字母以外的任意字符             |
| *?             |                  重复任意次，但尽可能少重复                  |
| +?             |               重复1次或更多次，但尽可能少重复                |
| ??             |                 重复0次或1次，但尽可能少重复                 |
| {n,m}?         |                  重复n到m次，但尽可能少重复                  |
| {n,}?          |                 重复n次以上，但尽可能少重复                  |
| (?\<name\>exp) | 匹配exp,并捕获文本到名称为name的组里，也可以写成(?'name'exp) |
| (exp)          |              匹配exp,并捕获文本到自动命名的组里              |
| (?:exp)        |        匹配exp,不捕获匹配的文本，也不给此分组分配组号        |
|                |                                                              |
|                |                                                              |



栗子：

| 需求                                         | 表达式                     |
| -------------------------------------------- | -------------------------- |
| 5位到12位数字                                | ^\d{5,12}$                 |
| 匹配Windows后面跟1个或更多数字               | Windows\d+                 |
|                                              | ^\w+                       |
| 匹配任何一个英文元音字母                     | [aeiou]                    |
| 匹配区号电话  010-12345678 或者 0376-2233445 | 0\d{2}-\d{8}\|0\d{3}-\d{7} |
| 简单的IP地址匹配                             | (\d{1,3}\.){3}\d{1,3}      |
| 匹配不包含空白符的字符串                     | \S+                        |
| 匹配用尖括号括起来的以a开头的字符串不包括<a> | <a[\\^>]+>                 |
| 匹配重复的单词，像*go go*, 或者*kitty kitty* | \b(\w+)\b\s+\1\b           |
| 匹配以空白符间隔的数字(                      | (?<=\s)\d+(?=\s)           |
|                                              |                            |
|                                              |                            |
|                                              |                            |
|                                              |                            |
|                                              |                            |
|                                              |                            |
|                                              |                            |
|                                              |                            |
|                                              |                            |



记录：

1. ^和$的意义就变成了匹配行的开始处和结束处

2. 字符转义：应该使用\.和\\*    deerchao\\.cn匹配deerchao.cn

3. 字符类：想匹配没有预定义元字符的字符集合(比如元音字母a,e,i,o,u),应该怎么办？ 

   像[aeiou]就匹配任何一个英文元音字母

4. [0-9]代表的含意与\d就是完全一致的：一位数字；同理[a-z0-9A-Z_]也完全等同于\w（如果只考虑英文的话）
5. \\(?0\d{2}[) -]?\d{8}       (需要转义   ？代表前面的(可有可无然后是0 接着后面跟2个数字  后面跟着) 和空格或者 - 后面有？ 代表（-可有可无  最后跟着8位数字         *(010)88886666*，或*022-22334455*，或*02912345678*等



分支条件：

正则表达式里的**分枝条件**指的是有几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用|把不同的规则分隔开。



**使用分枝条件时，要注意各个条件的顺序** 原因是匹配分枝条件时，将会从左到右地测试每个条件，如果满足了某个分枝的话，就不会去再管其它的条件了。

\d{5}-\d{4}|\d{5}这个表达式用于匹配美国的邮政编码。美国邮编的规则是5位数字，或者用连字号间隔的9位数字 如果你把它改成\d{5}|\d{5}-\d{4}的话，那么就只会匹配5位的邮编(以及9位邮编的前5位)



后向引用

**后向引用**用于重复搜索前面某个分组匹配的文本。例如，\1代表分组1匹配的文本





| 零宽断言 | 说明                      |
| -------- | ------------------------- |
| (?=exp)  | 匹配exp前面的位置         |
| (?<=exp) | 匹配exp后面的位置         |
| (?!exp)  | 匹配后面跟的不是exp的位置 |
| (?<!exp) | 匹配前面不是exp的位置     |
|          |                           |





小括号的另一种用途是通过语法(?#comment)来包含注释





当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配**尽可能多**的字符。以这个表达式为例：a.*b，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索*aabab*的话，它会匹配整个字符串aabab。这被称为**贪婪**匹配。



有时，我们更需要**懒惰**匹配，也就是匹配**尽可能少**的字符。前面给出的限定符都可以被转化为懒惰匹配模式，只要在它后面加上一个问号?。这样.*?就意味着匹配任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复。现在看看懒惰版的例子吧：

a.*?b匹配最短的，以a开始，以b结束的字符串。如果把它应用于*aabab*的话，它会匹配aab（第一到第三个字符）和ab（第四到第五个字符）。



其它

| 代码/语法        | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| \a               | 报警字符(打印它的效果是电脑嘀一声)                           |
| \b               | 通常是单词分界位置，但如果在字符类里使用代表退格             |
| \t               | 制表符，Tab                                                  |
| \r               | 回车                                                         |
| \v               | 竖向制表符                                                   |
| \f               | 换页符                                                       |
| \n               | 换行符                                                       |
| \e               | Escape                                                       |
| \0nn             | ASCII代码中八进制代码为nn的字符                              |
| \xnn             | ASCII代码中十六进制代码为nn的字符                            |
| \unnnn           | Unicode代码中十六进制代码为nnnn的字符                        |
| \cN              | ASCII控制字符。比如\cC代表Ctrl+C                             |
| \A               | 字符串开头(类似^，但不受处理多行选项的影响)                  |
| \Z               | 字符串结尾或行尾(不受处理多行选项的影响)                     |
| \z               | 字符串结尾(类似$，但不受处理多行选项的影响)                  |
| \G               | 当前搜索的开头                                               |
| \p{name}         | Unicode中命名为name的字符类，例如\p{IsGreek}                 |
| (?>exp)          | 贪婪子表达式                                                 |
| (?<x>-<y>exp)    | 平衡组                                                       |
| (?im-nsx:exp)    | 在子表达式exp中改变处理选项                                  |
| (?im-nsx)        | 为表达式后面的部分改变处理选项                               |
| (?(exp)yes\|no)  | 把exp当作零宽正向先行断言，如果在这个位置能匹配，使用yes作为此组的表达式；否则使用no |
| (?(exp)yes)      | 同上，只是使用空表达式作为no                                 |
| (?(name)yes\|no) | 如果命名为name的组捕获到了内容，使用yes作为表达式；否则使用no |
| (?(name)yes)     | 同上，只是使用空表达式作为no                                 |





[\\.\/]



i = 忽略大小写区别 ；

g = 匹配所有可能的字串 ；

m = 多行匹配 

